import numpy as np;
import matplotlib.pyplot as plt;

bytes_ = np.array([8, 16, 32,64,128,256,512,1024,  2048,  4096, 8192,  16384,32768, 65536,  131072,  262144,  524288,  1048576,  2097152,  4194304,  8388608,  16777216,  33554432,67108864,134217728, 268435456,  536870912,  1073741824]);
times_ = np.array([0.000002227, 0.000002220, 0.000002208, 0.000002264,  0.000002326, 0.000002874, 0.000002947, 0.000003143, 0.000003528, 0.000004401, 0.000005250, 0.000007522, 0.000009473, 0.000012664, 0.000018576, 0.000029733, 0.000054280, 0.000097098, 0.000182899, 0.000354024, 0.000696321, 0.001381054, 0.002750356, 0.005488475, 0.010964902, 0.021917448, 0.064528322, 0.126549488]);

times__ = np.array([0.000000659,0.000000278,0.000000246,0.000000248,0.000000259,0.000000309,0.000000430,0.000000532,0.000000807,0.000001206,0.000000719,0.000001142,0.000001914,0.000003272,0.000006001,0.000011421,0.000020519,0.000033447,0.000059585,0.000112774,0.000482182,0.001439213,0.002560693,0.004509925,0.008383913,0.016117406,0.031571310,0.061984828]);


bytes_one = np.array([8, 16, 32,64,128,256,512,1024,  2048,  4096, 8192,  16384,32768, 65536,  131072,  262144,  524288,  1048576,  2097152,  4194304,  8388608,  16777216,  33554432,67108864,134217728, 268435456,  536870912]);
times_one = np.array([0.000008515, 0.000008354, 0.000008441, 0.000008444, 0.000008387, 0.000008976, 0.000008993, 0.000009220, 0.000009526, 0.000027653, 0.000028247, 0.000033523, 0.000034576, 0.000036586, 0.000041517, 0.000052345, 0.000074388, 0.000116466, 0.000217573, 0.000383335, 0.000728573, 0.001420761, 0.002830083, 0.005547233, 0.011027086, 0.024771416, 0.052147566]);


bytes_one_intra = np.array([8, 16, 32,64,128,256,512,1024,  2048,  4096, 8192,  16384,32768, 65536,  131072,  262144,  524288,  1048576,  2097152,  4194304,  8388608,  16777216,  33554432,67108864,134217728, 268435456]);
times_one_intra = np.array([0.000000657, 0.000000588, 0.000000616, 0.000000601, 0.000000633, 0.000000622, 0.000000628, 0.000000622, 0.000000653, 0.000000695, 0.000000787, 0.000000991, 0.000001326, 0.000001973, 0.000003299, 0.000008507, 0.000022054, 0.000028222, 0.000057209, 0.000311050, 0.001483341, 0.002442089, 0.004156058, 0.007521046, 0.014287984, 0.027852660]);



plt.plot(bytes_, times_, bytes_, times__, bytes_one, times_one, bytes_one_intra, times_one_intra);
plt.legend(["Inter-node", "Intra-node", "one Inter-node", "one Intra-node"]);
plt.xlabel("N [Bytes]");
plt.ylabel("Time[S]")
plt.show();



bytes_one = np.array([268435456,  536870912]);
times_one = np.array([0.024771416, 0.052147566]);
z = np.polyfit(bytes_one, times_one, 1);
f = np.poly1d(z);
print(f);


bytes_one_intra = np.array([34217728, 268435456]);
times_one_intra = np.array([0.014287984, 0.027852660]);
z = np.polyfit(bytes_one_intra, times_one_intra, 1);
f = np.poly1d(z);
print(f);








